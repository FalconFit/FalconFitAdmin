<ion-header [translucent]="true" class="header">
  <ion-toolbar>
    <ion-title>MAQUINAS</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="content">
  <ion-grid>
    <ion-row>
      <!-- Tarjeta -->
      <ion-col size="4" size-md="6" size-sm="12" *ngFor="let machine of _machine | async; let i=index">
        <ion-card class="card">
          <!-- Bloque 1: Imagen -->
          <div class="image-container">
            <img
              [src]="machine.picture?.url || 'https://ionicframework.com/docs/img/demos/avatar.svg'"
              alt="Machine Picture" />
          </div>

          <!-- Bloque 2: Información -->
          <ion-card-content class="info-block">
            <h2 class="title">{{ machine.title || 'Título no disponible' }}</h2>
            <p class="subtitle">{{ machine.subtitle || 'Subtítulo no disponible' }}</p>
            <p class="description">{{ machine.description || 'Descripción no disponible' }}</p>
          </ion-card-content>

          <!-- Bloque 3: Botones -->
          <div class="button-block">
            <ion-button color="primary" (click)="onUpdateMachine(machine, i)" class="btn-primary">
              <ion-icon name="create-outline"></ion-icon>
            </ion-button>
            <ion-button color="secondary" (click)="onDeleteMachine(machine)" class="btn-secondary">
              <ion-icon name="trash-outline"></ion-icon>
            </ion-button>
          </div>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- Botón flotante para añadir -->
  <ion-fab slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button (click)="onAddMachine()" class="fab-button">
      <ion-icon name="add-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
